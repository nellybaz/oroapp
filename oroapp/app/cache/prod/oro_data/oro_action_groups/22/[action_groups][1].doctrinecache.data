0
a:45:{s:13:"resetPassword";a:3:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:33:"Oro\Bundle\UserBundle\Entity\User";}}s:7:"actions";a:4:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:39:"oro_user.handler.reset_password_handler";s:6:"method";s:22:"resetPasswordAndNotify";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}s:9:"attribute";s:6:"$.sent";}}i:1;a:1:{s:13:"@flush_entity";s:6:"$.data";}i:2;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:1:{i:0;a:1:{s:3:"@eq";a:2:{i:0;s:6:"$.sent";i:1;b:1;}}}}s:7:"actions";a:1:{i:0;a:1:{s:14:"@flash_message";a:3:{s:7:"message";s:45:"oro.user.password.force_reset.success.message";s:4:"type";s:7:"success";s:18:"message_parameters";a:1:{s:5:"email";s:12:"$.data.email";}}}}}}i:3;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:1:{i:0;a:1:{s:3:"@eq";a:2:{i:0;s:6:"$.sent";i:1;b:0;}}}}s:7:"actions";a:1:{i:0;a:1:{s:14:"@flash_message";a:3:{s:7:"message";s:45:"oro.user.password.force_reset.failure.message";s:4:"type";s:5:"error";s:18:"message_parameters";a:1:{s:5:"email";s:12:"$.data.email";}}}}}}}s:10:"conditions";a:0:{}}s:10:"enableUser";a:3:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:33:"Oro\Bundle\UserBundle\Entity\User";}}s:7:"actions";a:4:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.data.enabled";i:1;b:1;}}i:1;a:1:{s:13:"@flush_entity";s:6:"$.data";}i:2;a:1:{s:14:"@flash_message";a:3:{s:7:"message";s:30:"oro.user.action.enable.success";s:4:"type";s:7:"success";s:18:"message_parameters";a:1:{s:8:"username";s:15:"$.data.username";}}}i:3;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;s:21:"$.data.auth_status.id";i:1;s:7:"expired";}}s:7:"actions";a:1:{i:0;a:1:{s:17:"@run_action_group";a:2:{s:12:"action_group";s:13:"resetPassword";s:18:"parameters_mapping";a:1:{s:4:"data";s:6:"$.data";}}}}}}}s:10:"conditions";a:0:{}}s:11:"disableUser";a:3:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:33:"Oro\Bundle\UserBundle\Entity\User";}}s:7:"actions";a:3:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.data.enabled";i:1;b:0;}}i:1;a:1:{s:13:"@flush_entity";s:6:"$.data";}i:2;a:1:{s:14:"@flash_message";a:3:{s:7:"message";s:31:"oro.user.action.disable.success";s:4:"type";s:7:"success";s:18:"message_parameters";a:1:{s:8:"username";s:15:"$.data.username";}}}}s:10:"conditions";a:0:{}}s:36:"oro_translation_language_set_enabled";a:4:{s:10:"parameters";a:2:{s:4:"data";a:1:{s:4:"type";s:44:"Oro\Bundle\TranslationBundle\Entity\Language";}s:5:"value";a:1:{s:4:"type";s:7:"boolean";}}s:12:"acl_resource";a:2:{i:0;s:4:"EDIT";i:1;s:6:"$.data";}s:10:"conditions";a:1:{s:10:"@not_equal";a:2:{i:0;s:14:"$.data.enabled";i:1;s:7:"$.value";}}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.data.enabled";i:1;s:7:"$.value";}}i:1;a:1:{s:13:"@flush_entity";s:6:"$.data";}}}s:45:"oro_translation_language_update_cache_message";a:4:{s:12:"acl_resource";s:34:"oro_translation_translation_update";s:7:"actions";a:3:{i:0;a:1:{s:11:"@assign_url";a:2:{s:9:"attribute";s:17:"$.rebuildCacheUrl";s:5:"route";s:33:"oro_translation_translation_index";}}i:1;a:1:{s:6:"@trans";a:3:{s:9:"attribute";s:21:"$.rebuildCacheMessage";s:2:"id";s:50:"oro.translation.translation.rebuild_cache_required";s:6:"params";a:1:{s:6:"%path%";s:17:"$.rebuildCacheUrl";}}}i:2;a:1:{s:14:"@flash_message";a:2:{s:7:"message";s:21:"$.rebuildCacheMessage";s:4:"type";s:7:"warning";}}}s:10:"parameters";a:0:{}s:10:"conditions";a:0:{}}s:6:"DELETE";a:4:{s:10:"parameters";a:1:{s:4:"data";a:0:{}}s:12:"acl_resource";a:2:{i:0;s:6:"DELETE";i:1;s:6:"$.data";}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:25:"oro_action.handler.delete";s:6:"method";s:12:"handleDelete";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}}s:10:"conditions";a:0:{}}s:32:"transit_workflow_by_record_group";a:3:{s:10:"parameters";a:3:{s:6:"entity";a:1:{s:4:"type";s:6:"object";}s:10:"transition";a:1:{s:4:"type";s:6:"string";}s:11:"recordGroup";a:1:{s:4:"type";s:6:"string";}}s:7:"actions";a:2:{i:0;a:1:{s:39:"@get_available_workflow_by_record_group";a:3:{s:9:"attribute";s:17:"$.currentWorkflow";s:12:"entity_class";s:8:"$.entity";s:10:"group_name";s:13:"$.recordGroup";}}i:1;a:1:{s:17:"@transit_workflow";a:3:{s:6:"entity";s:8:"$.entity";s:8:"workflow";s:22:"$.currentWorkflow.name";s:10:"transition";s:12:"$.transition";}}}s:10:"conditions";a:0:{}}s:36:"update_workflow_item_by_record_group";a:3:{s:10:"parameters";a:4:{s:6:"entity";a:1:{s:4:"type";s:6:"object";}s:11:"recordGroup";a:1:{s:4:"type";s:6:"string";}s:4:"data";a:1:{s:4:"type";s:5:"array";}s:5:"flush";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:1;}}s:7:"actions";a:5:{i:0;a:1:{s:39:"@get_available_workflow_by_record_group";a:3:{s:9:"attribute";s:17:"$.currentWorkflow";s:12:"entity_class";s:8:"$.entity";s:10:"group_name";s:13:"$.recordGroup";}}i:1;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:14:"$.workflowItem";s:7:"service";s:20:"oro_workflow.manager";s:6:"method";s:15:"getWorkflowItem";s:17:"method_parameters";a:2:{i:0;s:8:"$.entity";i:1;s:22:"$.currentWorkflow.name";}}}i:2;a:1:{s:12:"@copy_values";a:2:{i:0;s:19:"$.workflowItem.data";i:1;s:6:"$.data";}}i:3;a:1:{s:12:"@call_method";a:2:{s:6:"object";s:14:"$.workflowItem";s:6:"method";s:10:"setUpdated";}}i:4;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:7:"$.flush";}}s:10:"parameters";a:1:{i:0;s:14:"$.workflowItem";}}}}s:10:"conditions";a:0:{}}s:21:"oro_product_duplicate";a:4:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:39:"Oro\Bundle\ProductBundle\Entity\Product";}}s:12:"acl_resource";s:18:"oro_product_create";s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:30:"oro_product.service.duplicator";s:6:"method";s:9:"duplicate";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}s:9:"attribute";s:13:"$.productCopy";}}}s:10:"conditions";a:0:{}}s:19:"oro_customer_delete";a:4:{s:10:"parameters";a:1:{s:4:"data";a:0:{}}s:12:"acl_resource";a:2:{i:0;s:6:"DELETE";i:1;s:6:"$.data";}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:49:"oro_customer.customer.action_group.handler.delete";s:6:"method";s:12:"handleDelete";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}}s:10:"conditions";a:0:{}}s:37:"oro_customer_customeruser_set_enabled";a:4:{s:10:"parameters";a:2:{s:4:"data";a:1:{s:4:"type";s:45:"Oro\Bundle\CustomerBundle\Entity\CustomerUser";}s:5:"value";a:1:{s:4:"type";s:7:"boolean";}}s:12:"acl_resource";a:2:{i:0;s:4:"EDIT";i:1;s:6:"$.data";}s:10:"conditions";a:1:{s:10:"@not_equal";a:2:{i:0;s:14:"$.data.enabled";i:1;s:7:"$.value";}}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.data.enabled";i:1;s:7:"$.value";}}i:1;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:25:"oro_customer_user.manager";s:6:"method";s:10:"updateUser";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}}}s:46:"oro_customer_frontend_customeruser_set_enabled";a:4:{s:10:"parameters";a:3:{s:4:"data";a:1:{s:4:"type";s:45:"Oro\Bundle\CustomerBundle\Entity\CustomerUser";}s:5:"value";a:1:{s:4:"type";s:7:"boolean";}s:12:"current_user";a:1:{s:4:"type";s:50:"Symfony\Component\Security\Core\User\UserInterface";}}s:12:"acl_resource";a:2:{i:0;s:4:"EDIT";i:1;s:6:"$.data";}s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:10:"@not_equal";a:2:{i:0;s:14:"$.data.enabled";i:1;s:7:"$.value";}}i:1;a:1:{s:10:"@not_equal";a:2:{i:0;s:9:"$.data.id";i:1;s:17:"$.current_user.id";}}}}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.data.enabled";i:1;s:7:"$.value";}}i:1;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:25:"oro_customer_user.manager";s:6:"method";s:10:"updateUser";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}}}s:33:"oro_customer_customeruser_confirm";a:4:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:45:"Oro\Bundle\CustomerBundle\Entity\CustomerUser";}}s:12:"acl_resource";a:2:{i:0;s:4:"EDIT";i:1;s:6:"$.data";}s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;s:16:"$.data.confirmed";i:1;b:0;}}s:7:"actions";a:2:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:25:"oro_customer_user.manager";s:6:"method";s:19:"confirmRegistration";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}i:1;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:25:"oro_customer_user.manager";s:6:"method";s:10:"updateUser";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}}}s:42:"oro_customer_customeruser_sendconfirmation";a:4:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:45:"Oro\Bundle\CustomerBundle\Entity\CustomerUser";}}s:12:"acl_resource";a:2:{i:0;s:4:"EDIT";i:1;s:6:"$.data";}s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;s:16:"$.data.confirmed";i:1;b:0;}}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:25:"oro_customer_user.manager";s:6:"method";s:21:"sendConfirmationEmail";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}}}s:29:"oro_pricing_add_product_price";a:4:{s:10:"parameters";a:2:{s:4:"data";a:1:{s:4:"type";s:41:"Oro\Bundle\PricingBundle\Entity\PriceList";}s:5:"price";a:1:{s:4:"type";s:44:"Oro\Bundle\PricingBundle\Entity\ProductPrice";}}s:12:"acl_resource";a:2:{i:0;s:6:"CREATE";i:1;s:51:"entity:Oro\Bundle\PricingBundle\Entity\ProductPrice";}s:7:"actions";a:3:{i:0;a:1:{s:14:"@create_object";a:3:{s:5:"class";s:44:"Oro\Bundle\PricingBundle\Entity\ProductPrice";s:9:"attribute";s:10:"$.newPrice";s:4:"data";a:5:{s:7:"product";s:15:"$.price.product";s:9:"priceList";s:6:"$.data";s:8:"quantity";s:16:"$.price.quantity";s:4:"unit";s:12:"$.price.unit";s:5:"price";s:13:"$.price.price";}}}i:1;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:33:"oro_pricing.manager.price_manager";s:6:"method";s:7:"persist";s:17:"method_parameters";a:1:{i:0;s:10:"$.newPrice";}}}i:2;a:1:{s:20:"@call_service_method";a:2:{s:7:"service";s:33:"oro_pricing.manager.price_manager";s:6:"method";s:5:"flush";}}}s:10:"conditions";a:0:{}}s:38:"oro_rfp_create_request_additional_note";a:3:{s:10:"parameters";a:3:{s:7:"request";a:1:{s:4:"type";s:35:"Oro\Bundle\RFPBundle\Entity\Request";}s:9:"note_type";a:1:{s:4:"type";s:6:"string";}s:5:"notes";a:1:{s:4:"type";s:6:"string";}}s:7:"actions";a:5:{i:0;a:1:{s:16:"@create_datetime";a:1:{s:9:"attribute";s:14:"$.current_date";}}i:1;a:1:{s:19:"@assign_active_user";a:1:{s:9:"attribute";s:14:"$.current_user";}}i:2;a:1:{s:14:"@create_entity";a:4:{s:5:"class";s:49:"Oro\Bundle\RFPBundle\Entity\RequestAdditionalNote";s:9:"attribute";s:25:"$.request_additional_note";s:5:"flush";b:1;s:4:"data";a:7:{s:7:"request";s:9:"$.request";s:4:"type";s:11:"$.note_type";s:4:"text";s:7:"$.notes";s:6:"author";s:23:"$.current_user.fullName";s:9:"createdAt";s:14:"$.current_date";s:9:"updatedAt";s:14:"$.current_date";s:6:"userId";s:17:"$.current_user.id";}}}i:3;a:1:{s:12:"@call_method";a:3:{s:6:"object";s:9:"$.request";s:6:"method";s:24:"addRequestAdditionalNote";s:17:"method_parameters";a:1:{i:0;s:25:"$.request_additional_note";}}}i:4;a:1:{s:17:"@run_action_group";a:2:{s:12:"action_group";s:40:"oro_rfp_update_request_last_contact_data";s:18:"parameters_mapping";a:3:{s:7:"request";s:9:"$.request";s:12:"current_date";s:14:"$.current_date";s:12:"current_user";s:14:"$.current_user";}}}}s:10:"conditions";a:0:{}}s:17:"oro_rfp_duplicate";a:3:{s:10:"parameters";a:2:{s:7:"request";a:1:{s:4:"type";s:35:"Oro\Bundle\RFPBundle\Entity\Request";}s:5:"flush";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:1;}}s:7:"actions";a:12:{i:0;a:1:{s:16:"@create_datetime";a:1:{s:9:"attribute";s:17:"$.currentDatetime";}}i:1;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:9:"$.request";s:9:"attribute";s:13:"$.requestCopy";s:8:"settings";a:13:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"website";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"customerUser";}}}i:3;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:8:"customer";}}}i:4;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:5;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:5:"owner";}}}i:6;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"internal_status";}}}i:7;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"customer_status";}}}i:8;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:13:"assignedUsers";}}}i:9;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:21:"assignedCustomerUsers";}}}i:10;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:42:"Oro\Bundle\RFPBundle\Entity\RequestProduct";i:1;s:7:"product";}}}i:11;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:46:"Oro\Bundle\RFPBundle\Entity\RequestProductItem";i:1;s:11:"productUnit";}}}i:12;a:2:{i:0;a:1:{i:0;s:10:"collection";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:38:"Doctrine\Common\Collections\Collection";}}}}}}i:2;a:1:{s:13:"@assign_value";a:2:{i:0;s:23:"$.requestCopy.createdAt";i:1;s:17:"$.currentDatetime";}}i:3;a:1:{s:13:"@assign_value";a:2:{i:0;s:23:"$.requestCopy.updatedAt";i:1;s:17:"$.currentDatetime";}}i:4;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:7:"$.flush";}}s:10:"parameters";a:1:{i:0;s:13:"$.requestCopy";}}}i:5;a:1:{s:13:"@assign_value";a:2:{i:0;s:34:"$.requestCopy.ac_last_contact_date";i:1;N;}}i:6;a:1:{s:13:"@assign_value";a:2:{i:0;s:37:"$.requestCopy.ac_last_contact_date_in";i:1;N;}}i:7;a:1:{s:13:"@assign_value";a:2:{i:0;s:38:"$.requestCopy.ac_last_contact_date_out";i:1;N;}}i:8;a:1:{s:13:"@assign_value";a:2:{i:0;s:30:"$.requestCopy.ac_contact_count";i:1;i:0;}}i:9;a:1:{s:13:"@assign_value";a:2:{i:0;s:33:"$.requestCopy.ac_contact_count_in";i:1;i:0;}}i:10;a:1:{s:13:"@assign_value";a:2:{i:0;s:34:"$.requestCopy.ac_contact_count_out";i:1;i:0;}}i:11;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:7:"$.flush";}}s:10:"parameters";a:1:{i:0;s:13:"$.requestCopy";}}}}s:10:"conditions";a:0:{}}s:25:"oro_update_shipping_price";a:3:{s:10:"parameters";a:1:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:42:"oro_checkout.shipping_method.provider_main";s:6:"method";s:8:"getPrice";s:17:"method_parameters";a:1:{i:0;s:10:"$.checkout";}s:9:"attribute";s:23:"$.checkout.shippingCost";}}}s:10:"conditions";a:0:{}}s:27:"start_shoppinglist_checkout";a:3:{s:10:"parameters";a:4:{s:12:"shoppingList";a:1:{s:4:"type";s:49:"Oro\Bundle\ShoppingListBundle\Entity\ShoppingList";}s:18:"forceStartCheckout";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}s:10:"showErrors";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}s:23:"validateOnStartCheckout";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:1;}}s:7:"actions";a:3:{i:0;a:1:{s:11:"@assign_url";a:3:{s:9:"attribute";s:10:"$.editLink";s:5:"route";s:31:"oro_shopping_list_frontend_view";s:16:"route_parameters";a:1:{s:2:"id";s:17:"$.shoppingList.id";}}}i:1;a:1:{s:10:"@translate";a:2:{s:2:"id";s:54:"oro.frontend.shoppinglist.workflow.remove_source.label";s:9:"attribute";s:19:"$.sourceRemoveLabel";}}i:2;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:14:"start_checkout";s:18:"parameters_mapping";a:5:{s:14:"sourceCriteria";a:1:{s:12:"shoppingList";s:14:"$.shoppingList";}s:8:"settings";a:4:{s:26:"allow_manual_source_remove";b:1;s:13:"remove_source";b:1;s:15:"edit_order_link";s:10:"$.editLink";s:19:"source_remove_label";s:19:"$.sourceRemoveLabel";}s:5:"force";s:20:"$.forceStartCheckout";s:10:"showErrors";s:12:"$.showErrors";s:23:"validateOnStartCheckout";s:25:"$.validateOnStartCheckout";}s:7:"results";a:3:{s:11:"redirectUrl";s:13:"$.redirectUrl";s:8:"checkout";s:10:"$.checkout";s:6:"errors";s:8:"$.errors";}}}}s:10:"conditions";a:0:{}}s:25:"prepare_checkout_settings";a:3:{s:10:"parameters";a:1:{s:6:"source";a:1:{s:4:"type";s:59:"Oro\Component\Checkout\Entity\CheckoutSourceEntityInterface";}}s:7:"actions";a:5:{i:0;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:10:"@not_blank";s:23:"$.source.billingAddress";}s:7:"actions";a:1:{i:0;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:35:"b2b_flow_checkout_duplicate_address";s:18:"parameters_mapping";a:1:{s:7:"address";s:23:"$.source.billingAddress";}s:7:"results";a:1:{s:24:"settings.billing_address";s:12:"$.newAddress";}}}}}}i:1;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:10:"@not_blank";s:24:"$.source.shippingAddress";}s:7:"actions";a:1:{i:0;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:35:"b2b_flow_checkout_duplicate_address";s:18:"parameters_mapping";a:1:{s:7:"address";s:24:"$.source.shippingAddress";}s:7:"results";a:1:{s:25:"settings.shipping_address";s:12:"$.newAddress";}}}}}}i:2;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:10:"@not_blank";s:23:"$.source.shippingMethod";}i:1;a:1:{s:10:"@not_blank";s:27:"$.source.shippingMethodType";}}}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:26:"$.settings.shipping_method";i:1;s:23:"$.source.shippingMethod";}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:31:"$.settings.shipping_method_type";i:1;s:27:"$.source.shippingMethodType";}}}}}i:3;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:40:"oro_payment.provider.payment_transaction";s:6:"method";s:17:"getPaymentMethods";s:17:"method_parameters";a:1:{i:0;s:8:"$.source";}s:9:"attribute";s:16:"$.paymentMethods";}}i:4;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:13:"@has_elements";s:16:"$.paymentMethods";}s:7:"actions";a:1:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:25:"$.settings.payment_method";i:1;s:19:"$.paymentMethods[0]";}}}}}}s:10:"conditions";a:0:{}}s:14:"start_checkout";a:3:{s:10:"parameters";a:6:{s:14:"sourceCriteria";a:1:{s:4:"type";s:5:"array";}s:5:"force";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}s:4:"data";a:2:{s:4:"type";s:5:"array";s:7:"default";a:0:{}}s:8:"settings";a:2:{s:4:"type";s:5:"array";s:7:"default";a:0:{}}s:10:"showErrors";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}s:18:"forceStartCheckout";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}}s:7:"actions";a:4:{i:0;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:13:"find_checkout";s:18:"parameters_mapping";a:4:{s:14:"sourceCriteria";s:16:"$.sourceCriteria";s:12:"checkoutData";s:6:"$.data";s:10:"updateData";s:7:"$.force";s:18:"forceStartCheckout";s:20:"$.forceStartCheckout";}s:7:"results";a:2:{s:8:"checkout";s:10:"$.checkout";s:5:"force";s:12:"$.updateData";}}}i:1;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:10:"@not_blank";s:23:"$.checkout.sourceEntity";}s:7:"actions";a:2:{i:0;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:25:"prepare_checkout_settings";s:18:"parameters_mapping";a:1:{s:6:"source";s:23:"$.checkout.sourceEntity";}s:7:"results";a:1:{s:16:"preparedSettings";s:10:"$.settings";}}}i:1;a:1:{s:12:"@copy_values";a:2:{i:0;s:10:"$.settings";i:1;s:18:"$.preparedSettings";}}}}}i:2;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:7:"$.force";}}s:7:"actions";a:1:{i:0;a:1:{s:17:"@run_action_group";a:2:{s:12:"action_group";s:20:"update_workflow_item";s:18:"parameters_mapping";a:2:{s:6:"entity";s:10:"$.checkout";s:4:"data";s:10:"$.settings";}}}}}}i:3;a:1:{s:9:"@redirect";a:2:{s:10:"conditions";a:1:{s:11:"@extendable";a:2:{s:6:"events";a:1:{i:0;s:35:"extendable_condition.start_checkout";}s:10:"showErrors";s:12:"$.showErrors";}}s:10:"parameters";a:2:{s:5:"route";s:30:"oro_checkout_frontend_checkout";s:16:"route_parameters";a:1:{s:2:"id";s:13:"$.checkout.id";}}}}}s:10:"conditions";a:0:{}}s:13:"find_checkout";a:3:{s:10:"parameters";a:4:{s:14:"sourceCriteria";a:1:{s:4:"type";s:5:"array";}s:12:"checkoutData";a:2:{s:4:"type";s:5:"array";s:7:"default";a:0:{}}s:10:"updateData";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}s:18:"forceStartCheckout";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:0;}}s:7:"actions";a:11:{i:0;a:1:{s:39:"@get_available_workflow_by_record_group";a:3:{s:9:"attribute";s:17:"$.currentWorkflow";s:12:"entity_class";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";s:10:"group_name";s:17:"b2b_checkout_flow";}}i:1;a:1:{s:24:"@get_active_user_or_null";s:13:"$.currentUser";}i:2;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;b:0;i:1;s:20:"$.forceStartCheckout";}}i:1;a:1:{s:10:"@not_empty";s:13:"$.currentUser";}}}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:10:"$.checkout";s:7:"service";s:32:"oro_checkout.repository.checkout";s:6:"method";s:43:"findCheckoutByCustomerUserAndSourceCriteria";s:17:"method_parameters";a:3:{i:0;s:13:"$.currentUser";i:1;s:16:"$.sourceCriteria";i:2;s:22:"$.currentWorkflow.name";}}}}}}i:3;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;b:0;i:1;s:20:"$.forceStartCheckout";}}i:1;a:1:{s:6:"@empty";s:13:"$.currentUser";}}}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:10:"$.checkout";s:7:"service";s:32:"oro_checkout.repository.checkout";s:6:"method";s:28:"findCheckoutBySourceCriteria";s:17:"method_parameters";a:2:{i:0;s:16:"$.sourceCriteria";i:1;s:22:"$.currentWorkflow.name";}}}}}}i:4;a:1:{s:20:"@call_service_method";a:3:{s:9:"attribute";s:16:"$.currentWebsite";s:7:"service";s:19:"oro_website.manager";s:6:"method";s:17:"getCurrentWebsite";}}i:5;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:6:"@empty";s:13:"$.checkout.id";}s:7:"actions";a:6:{i:0;a:1:{s:14:"@create_entity";a:3:{s:9:"attribute";s:8:"$.source";s:5:"class";s:47:"Oro\Bundle\CheckoutBundle\Entity\CheckoutSource";s:4:"data";s:16:"$.sourceCriteria";}}i:1;a:1:{s:14:"@create_entity";a:3:{s:9:"attribute";s:10:"$.checkout";s:5:"class";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";s:4:"data";a:3:{s:6:"source";s:8:"$.source";s:12:"customerUser";s:13:"$.currentUser";s:7:"website";s:16:"$.currentWebsite";}}}i:2;a:1:{s:16:"@create_datetime";a:1:{s:9:"attribute";s:20:"$.checkout.createdAt";}}i:3;a:1:{s:16:"@create_datetime";a:1:{s:9:"attribute";s:20:"$.checkout.updatedAt";}}i:4;a:1:{s:13:"@assign_value";a:2:{i:0;s:12:"$.updateData";i:1;b:1;}}i:5;a:1:{s:15:"@start_workflow";a:3:{s:9:"attribute";s:14:"$.workflowItem";s:4:"name";s:22:"$.currentWorkflow.name";s:6:"entity";s:10:"$.checkout";}}}}}i:6;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:10:"@not_empty";s:13:"$.currentUser";}i:1;a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:12:"$.updateData";}}}}s:7:"actions";a:4:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:19:"$.checkout.customer";i:1;s:22:"$.currentUser.customer";}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:23:"$.checkout.organization";i:1;s:35:"$.currentUser.customer.organization";}}i:2;a:1:{s:13:"@assign_value";a:2:{i:0;s:18:"$.checkout.website";i:1;s:16:"$.currentWebsite";}}i:3;a:1:{s:12:"@copy_values";a:2:{i:0;s:10:"$.checkout";i:1;s:14:"$.checkoutData";}}}}}i:7;a:1:{s:20:"@call_service_method";a:3:{s:9:"attribute";s:19:"$.checkout.currency";s:7:"service";s:33:"oro_pricing.user_currency_manager";s:6:"method";s:15:"getUserCurrency";}}i:8;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:20:"$.checkout.lineItems";s:7:"service";s:31:"oro_checkout.line_items.factory";s:6:"method";s:6:"create";s:17:"method_parameters";a:1:{i:0;s:24:"$.checkout.source.entity";}}}i:9;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:44:"oro_checkout.model.checkout_subtotal_updater";s:6:"method";s:28:"recalculateCheckoutSubtotals";s:17:"method_parameters";a:1:{i:0;s:10:"$.checkout";}}}i:10;a:1:{s:13:"@flush_entity";s:10:"$.checkout";}}s:10:"conditions";a:0:{}}s:20:"update_workflow_item";a:3:{s:10:"parameters";a:2:{s:6:"entity";a:1:{s:4:"type";s:6:"object";}s:4:"data";a:1:{s:4:"type";s:5:"array";}}s:7:"actions";a:5:{i:0;a:1:{s:39:"@get_available_workflow_by_record_group";a:3:{s:9:"attribute";s:17:"$.currentWorkflow";s:12:"entity_class";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";s:10:"group_name";s:17:"b2b_checkout_flow";}}i:1;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:14:"$.workflowItem";s:7:"service";s:20:"oro_workflow.manager";s:6:"method";s:15:"getWorkflowItem";s:17:"method_parameters";a:2:{i:0;s:8:"$.entity";i:1;s:22:"$.currentWorkflow.name";}}}i:2;a:1:{s:12:"@copy_values";a:2:{i:0;s:19:"$.workflowItem.data";i:1;s:6:"$.data";}}i:3;a:1:{s:12:"@call_method";a:2:{s:6:"object";s:14:"$.workflowItem";s:6:"method";s:10:"setUpdated";}}i:4;a:1:{s:13:"@flush_entity";s:14:"$.workflowItem";}}s:10:"conditions";a:0:{}}s:35:"b2b_flow_checkout_duplicate_address";a:3:{s:10:"parameters";a:1:{s:7:"address";a:1:{s:4:"type";s:42:"Oro\Bundle\OrderBundle\Entity\OrderAddress";}}s:7:"actions";a:1:{i:0;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:9:"$.address";s:9:"attribute";s:12:"$.newAddress";s:8:"settings";a:6:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:48:"Oro\Bundle\CustomerBundle\Entity\CustomerAddress";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:52:"Oro\Bundle\CustomerBundle\Entity\CustomerUserAddress";}}}i:3;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:39:"Oro\Bundle\AddressBundle\Entity\Country";}}}i:4;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:38:"Oro\Bundle\AddressBundle\Entity\Region";}}}i:5;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:9:"\DateTime";}}}}}}}s:10:"conditions";a:0:{}}s:40:"b2b_flow_checkout_update_billing_address";a:3:{s:10:"parameters";a:4:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}s:30:"disallow_shipping_address_edit";a:1:{s:7:"default";b:0;}s:13:"visitor_email";a:1:{s:7:"default";N;}s:15:"billing_address";a:1:{s:7:"default";N;}}s:7:"actions";a:6:{i:0;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:5:"@type";a:2:{i:0;s:23:"$.checkout.sourceEntity";i:1;s:49:"Oro\Bundle\ShoppingListBundle\Entity\ShoppingList";}}i:1;a:1:{s:6:"@empty";s:36:"$.checkout.sourceEntity.customerUser";}}}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:36:"$.checkout.sourceEntity.customerUser";i:1;s:23:"$.checkout.customerUser";}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:32:"$.checkout.sourceEntity.customer";i:1;s:32:"$.checkout.customerUser.customer";}}}}}i:1;a:1:{s:22:"@assign_constant_value";a:2:{i:0;s:18:"$.typeShippingName";i:1;s:58:"Oro\Bundle\AddressBundle\Entity\AddressType::TYPE_SHIPPING";}}i:2;a:1:{s:12:"@call_method";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:41:"$.checkout.billingAddress.customerAddress";}s:10:"parameters";a:4:{s:9:"attribute";s:30:"$.billing_address_has_shipping";s:6:"object";s:41:"$.checkout.billingAddress.customerAddress";s:6:"method";s:15:"hasTypeWithName";s:17:"method_parameters";a:1:{i:0;s:18:"$.typeShippingName";}}}}i:3;a:1:{s:12:"@call_method";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:45:"$.checkout.billingAddress.customerUserAddress";}s:10:"parameters";a:4:{s:9:"attribute";s:30:"$.billing_address_has_shipping";s:6:"object";s:45:"$.checkout.billingAddress.customerUserAddress";s:6:"method";s:15:"hasTypeWithName";s:17:"method_parameters";a:1:{i:0;s:18:"$.typeShippingName";}}}}i:4;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@empty";s:41:"$.checkout.billingAddress.customerAddress";}i:1;a:1:{s:6:"@empty";s:45:"$.checkout.billingAddress.customerUserAddress";}}}s:10:"parameters";a:2:{i:0;s:30:"$.billing_address_has_shipping";i:1;b:1;}}}i:5;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:3:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:32:"$.disallow_shipping_address_edit";i:1;b:0;}}i:1;a:1:{s:6:"@equal";a:2:{i:0;s:31:"$.checkout.shipToBillingAddress";i:1;b:1;}}i:2;a:1:{s:6:"@equal";a:2:{i:0;s:30:"$.billing_address_has_shipping";i:1;b:1;}}}}s:7:"actions";a:3:{i:0;a:1:{s:14:"@remove_entity";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:26:"$.checkout.shippingAddress";}s:10:"parameters";a:1:{i:0;s:26:"$.checkout.shippingAddress";}}}i:1;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:25:"$.checkout.billingAddress";s:9:"attribute";s:26:"$.checkout.shippingAddress";s:8:"settings";a:8:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"customerAddress";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:19:"customerUserAddress";}}}i:3;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:4:"city";}}}i:4;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"country";}}}i:5;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:6:"region";}}}i:6;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:7;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:9:"\DateTime";}}}}}}i:2;a:1:{s:13:"@flush_entity";s:26:"$.checkout.shippingAddress";}}}}}s:10:"conditions";a:0:{}}s:41:"b2b_flow_checkout_update_shipping_address";a:3:{s:10:"parameters";a:2:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}s:28:"billing_address_has_shipping";a:1:{s:7:"default";b:0;}}s:7:"actions";a:1:{i:0;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:31:"$.checkout.shipToBillingAddress";i:1;b:1;}}i:1;a:1:{s:6:"@equal";a:2:{i:0;s:30:"$.billing_address_has_shipping";i:1;b:1;}}}}s:7:"actions";a:3:{i:0;a:1:{s:14:"@remove_entity";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:26:"$.checkout.shippingAddress";}s:10:"parameters";a:1:{i:0;s:26:"$.checkout.shippingAddress";}}}i:1;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:25:"$.checkout.billingAddress";s:9:"attribute";s:26:"$.checkout.shippingAddress";s:8:"settings";a:8:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"customerAddress";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:19:"customerUserAddress";}}}i:3;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:4:"city";}}}i:4;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"country";}}}i:5;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:6:"region";}}}i:6;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:7;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:9:"\DateTime";}}}}}}i:2;a:1:{s:13:"@flush_entity";s:26:"$.checkout.shippingAddress";}}}}}s:10:"conditions";a:0:{}}s:40:"b2b_flow_checkout_update_shipping_method";a:3:{s:10:"parameters";a:1:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}}s:7:"actions";a:1:{i:0;a:1:{s:17:"@run_action_group";a:2:{s:12:"action_group";s:25:"oro_update_shipping_price";s:18:"parameters_mapping";a:1:{s:8:"checkout";s:10:"$.checkout";}}}}s:10:"conditions";a:0:{}}s:29:"b2b_flow_checkout_place_order";a:3:{s:10:"parameters";a:1:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}}s:7:"actions";a:12:{i:0;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;s:31:"$.checkout.shipToBillingAddress";i:1;b:0;}}s:10:"parameters";a:2:{i:0;s:17:"$.shippingAddress";i:1;s:26:"$.checkout.shippingAddress";}}}i:1;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;s:31:"$.checkout.shipToBillingAddress";i:1;b:1;}}s:10:"parameters";a:2:{i:0;s:17:"$.shippingAddress";i:1;s:25:"$.checkout.billingAddress";}}}i:2;a:1:{s:15:"@get_class_name";a:2:{s:6:"object";s:38:"$.checkout.sourceEntity.sourceDocument";s:9:"attribute";s:31:"$.sourceDocumentEntityClassName";}}i:3;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:25:"$.checkout.billingAddress";s:9:"attribute";s:16:"$.billingAddress";s:8:"settings";a:8:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"customerAddress";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:19:"customerUserAddress";}}}i:3;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:4:"city";}}}i:4;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"country";}}}i:5;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:6:"region";}}}i:6;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:7;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:9:"\DateTime";}}}}}}i:4;a:1:{s:13:"@flush_entity";s:16:"$.billingAddress";}i:5;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:17:"$.shippingAddress";s:9:"attribute";s:17:"$.shippingAddress";s:8:"settings";a:8:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"customerAddress";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:19:"customerUserAddress";}}}i:3;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:4:"city";}}}i:4;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"country";}}}i:5;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:6:"region";}}}i:6;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:7;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:9:"\DateTime";}}}}}}i:6;a:1:{s:13:"@flush_entity";s:17:"$.shippingAddress";}i:7;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:38:"oro_payment_term.provider.payment_term";s:6:"method";s:21:"getCurrentPaymentTerm";s:9:"attribute";s:13:"$.paymentTerm";}}i:8;a:1:{s:21:"@get_order_line_items";a:2:{s:9:"attribute";s:11:"$.lineItems";s:8:"checkout";s:10:"$.checkout";}}i:9;a:1:{s:13:"@create_order";a:3:{s:9:"attribute";s:7:"$.order";s:8:"checkout";s:10:"$.checkout";s:4:"data";a:5:{s:14:"billingAddress";s:16:"$.billingAddress";s:15:"shippingAddress";s:17:"$.shippingAddress";s:17:"sourceEntityClass";s:31:"$.sourceDocumentEntityClassName";s:11:"paymentTerm";s:13:"$.paymentTerm";s:9:"lineItems";s:11:"$.lineItems";}}}i:10;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:38:"oro_order.handler.order_totals_handler";s:6:"method";s:13:"fillSubtotals";s:17:"method_parameters";a:1:{i:0;s:7:"$.order";}}}i:11;a:1:{s:13:"@flush_entity";s:7:"$.order";}}s:10:"conditions";a:0:{}}s:26:"b2b_flow_checkout_purchase";a:3:{s:10:"parameters";a:3:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}s:5:"order";a:1:{s:4:"type";s:35:"Oro\Bundle\OrderBundle\Entity\Order";}s:18:"transactionOptions";a:2:{s:4:"type";s:5:"array";s:7:"default";a:0:{}}}s:7:"actions";a:6:{i:0;a:1:{s:11:"@assign_url";a:3:{s:9:"attribute";s:12:"$.successUrl";s:5:"route";s:30:"oro_checkout_frontend_checkout";s:16:"route_parameters";a:2:{s:2:"id";s:13:"$.checkout.id";s:10:"transition";s:15:"finish_checkout";}}}i:1;a:1:{s:11:"@assign_url";a:3:{s:9:"attribute";s:12:"$.failureUrl";s:5:"route";s:30:"oro_checkout_frontend_checkout";s:16:"route_parameters";a:2:{s:2:"id";s:13:"$.checkout.id";s:10:"transition";s:13:"payment_error";}}}i:2;a:1:{s:11:"@assign_url";a:3:{s:9:"attribute";s:26:"$.failedShippingAddressUrl";s:5:"route";s:30:"oro_checkout_frontend_checkout";s:16:"route_parameters";a:2:{s:2:"id";s:13:"$.checkout.id";s:10:"transition";s:13:"payment_error";}}}i:3;a:1:{s:12:"@copy_values";a:3:{i:0;s:27:"$.paymentTransactionOptions";i:1;a:4:{s:10:"successUrl";s:12:"$.successUrl";s:10:"failureUrl";s:12:"$.failureUrl";s:24:"failedShippingAddressUrl";s:26:"$.failedShippingAddressUrl";s:10:"checkoutId";s:13:"$.checkout.id";}i:2;s:20:"$.transactionOptions";}}i:4;a:1:{s:17:"@payment_purchase";a:6:{s:9:"attribute";s:14:"$.responseData";s:6:"object";s:7:"$.order";s:6:"amount";s:13:"$.order.total";s:8:"currency";s:16:"$.order.currency";s:13:"paymentMethod";s:24:"$.checkout.paymentMethod";s:18:"transactionOptions";s:27:"$.paymentTransactionOptions";}}i:5;a:1:{s:14:"@flash_message";a:3:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;b:0;i:1;s:34:"$.responseData[purchaseSuccessful]";}}i:1;a:1:{s:10:"@not_empty";s:23:"$.responseData[message]";}}}s:7:"message";s:23:"$.responseData[message]";s:4:"type";s:7:"warning";}}}s:10:"conditions";a:0:{}}s:33:"b2b_flow_checkout_finish_checkout";a:3:{s:10:"parameters";a:5:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}s:5:"order";a:1:{s:4:"type";s:35:"Oro\Bundle\OrderBundle\Entity\Order";}s:18:"auto_remove_source";a:1:{s:7:"default";b:0;}s:26:"allow_manual_source_remove";a:1:{s:7:"default";b:0;}s:13:"remove_source";a:1:{s:7:"default";b:0;}}s:7:"actions";a:10:{i:0;a:1:{s:22:"@assign_constant_value";a:2:{i:0;s:17:"$.typeBillingName";i:1;s:57:"Oro\Bundle\AddressBundle\Entity\AddressType::TYPE_BILLING";}}i:1;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:4:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:29:"$.checkout.saveBillingAddress";i:1;b:1;}}i:1;a:1:{s:6:"@empty";s:38:"$.order.billingAddress.customerAddress";}i:2;a:1:{s:6:"@empty";s:42:"$.order.billingAddress.customerUserAddress";}i:3;a:1:{s:12:"@acl_granted";s:38:"oro_order_address_billing_allow_manual";}}}s:7:"actions";a:4:{i:0;a:1:{s:12:"@find_entity";a:3:{s:5:"class";s:43:"Oro\Bundle\AddressBundle\Entity\AddressType";s:9:"attribute";s:13:"$.typeBilling";s:10:"identifier";s:17:"$.typeBillingName";}}i:1;a:1:{s:14:"@create_entity";a:3:{s:9:"attribute";s:24:"$.customerBillingAddress";s:5:"class";s:52:"Oro\Bundle\CustomerBundle\Entity\CustomerUserAddress";s:4:"data";a:18:{s:13:"frontendOwner";s:23:"$.checkout.customerUser";s:5:"owner";s:16:"$.checkout.owner";s:18:"systemOrganization";s:23:"$.checkout.organization";s:5:"label";s:28:"$.order.billingAddress.label";s:12:"organization";s:35:"$.order.billingAddress.organization";s:6:"street";s:29:"$.order.billingAddress.street";s:7:"street2";s:30:"$.order.billingAddress.street2";s:4:"city";s:27:"$.order.billingAddress.city";s:10:"postalCode";s:33:"$.order.billingAddress.postalCode";s:7:"country";s:30:"$.order.billingAddress.country";s:6:"region";s:29:"$.order.billingAddress.region";s:10:"regionText";s:33:"$.order.billingAddress.regionText";s:10:"namePrefix";s:33:"$.order.billingAddress.namePrefix";s:9:"firstName";s:32:"$.order.billingAddress.firstName";s:10:"middleName";s:33:"$.order.billingAddress.middleName";s:8:"lastName";s:31:"$.order.billingAddress.lastName";s:10:"nameSuffix";s:33:"$.order.billingAddress.nameSuffix";s:5:"phone";s:28:"$.order.billingAddress.phone";}}}i:2;a:1:{s:12:"@call_method";a:3:{s:6:"object";s:24:"$.customerBillingAddress";s:6:"method";s:7:"addType";s:17:"method_parameters";a:1:{i:0;s:13:"$.typeBilling";}}}i:3;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:24:"$.customerBillingAddress";}s:10:"parameters";a:1:{i:0;s:24:"$.customerBillingAddress";}}}}}}i:2;a:1:{s:22:"@assign_constant_value";a:2:{i:0;s:18:"$.typeShippingName";i:1;s:58:"Oro\Bundle\AddressBundle\Entity\AddressType::TYPE_SHIPPING";}}i:3;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:4:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:30:"$.checkout.saveShippingAddress";i:1;b:1;}}i:1;a:1:{s:6:"@empty";s:39:"$.order.shippingAddress.customerAddress";}i:2;a:1:{s:6:"@empty";s:43:"$.order.shippingAddress.customerUserAddress";}i:3;a:1:{s:12:"@acl_granted";s:39:"oro_order_address_shipping_allow_manual";}}}s:7:"actions";a:4:{i:0;a:1:{s:12:"@find_entity";a:3:{s:5:"class";s:43:"Oro\Bundle\AddressBundle\Entity\AddressType";s:9:"attribute";s:14:"$.typeShipping";s:10:"identifier";s:18:"$.typeShippingName";}}i:1;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:3:"@or";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:30:"$checkout.shipToBillingAddress";i:1;b:0;}}i:1;a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:30:"$checkout.shipToBillingAddress";i:1;b:1;}}i:1;a:1:{s:6:"@equal";a:2:{i:0;s:28:"$checkout.saveBillingAddress";i:1;b:0;}}}}}}s:7:"actions";a:2:{i:0;a:1:{s:14:"@create_entity";a:3:{s:9:"attribute";s:25:"$.customerShippingAddress";s:5:"class";s:52:"Oro\Bundle\CustomerBundle\Entity\CustomerUserAddress";s:4:"data";a:18:{s:13:"frontendOwner";s:23:"$.checkout.customerUser";s:5:"owner";s:16:"$.checkout.owner";s:18:"systemOrganization";s:23:"$.checkout.organization";s:5:"label";s:32:"$.checkout.shippingAddress.label";s:12:"organization";s:39:"$.checkout.shippingAddress.organization";s:6:"street";s:30:"$.order.shippingAddress.street";s:7:"street2";s:31:"$.order.shippingAddress.street2";s:4:"city";s:28:"$.order.shippingAddress.city";s:10:"postalCode";s:34:"$.order.shippingAddress.postalCode";s:7:"country";s:31:"$.order.shippingAddress.country";s:6:"region";s:30:"$.order.shippingAddress.region";s:10:"regionText";s:34:"$.order.shippingAddress.regionText";s:10:"namePrefix";s:34:"$.order.shippingAddress.namePrefix";s:9:"firstName";s:33:"$.order.shippingAddress.firstName";s:10:"middleName";s:34:"$.order.shippingAddress.middleName";s:8:"lastName";s:32:"$.order.shippingAddress.lastName";s:10:"nameSuffix";s:34:"$.order.shippingAddress.nameSuffix";s:5:"phone";s:29:"$.order.shippingAddress.phone";}}}i:1;a:1:{s:12:"@call_method";a:3:{s:6:"object";s:25:"$.customerShippingAddress";s:6:"method";s:7:"addType";s:17:"method_parameters";a:1:{i:0;s:14:"$.typeShipping";}}}}}}i:2;a:1:{s:12:"@call_method";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:30:"$checkout.shipToBillingAddress";i:1;b:1;}}i:1;a:1:{s:6:"@equal";a:2:{i:0;s:28:"$checkout.saveBillingAddress";i:1;b:1;}}}}s:10:"parameters";a:3:{s:6:"object";s:24:"$.customerBillingAddress";s:6:"method";s:7:"addType";s:17:"method_parameters";a:1:{i:0;s:14:"$.typeShipping";}}}}i:3;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:25:"$.customerShippingAddress";}s:10:"parameters";a:1:{i:0;s:25:"$.customerShippingAddress";}}}}}}i:4;a:1:{s:20:"@send_email_template";a:1:{s:10:"parameters";a:4:{s:4:"from";s:19:"$.order.owner.email";s:2:"to";s:26:"$.order.customerUser.email";s:8:"template";s:24:"order_confirmation_email";s:6:"entity";s:7:"$.order";}}}i:5;a:1:{s:13:"@assign_value";a:2:{i:0;s:20:"$.checkout.completed";i:1;b:1;}}i:6;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:7:"$.order";}s:7:"actions";a:6:{i:0;a:1:{s:6:"@count";a:2:{s:5:"value";s:17:"$.order.lineItems";s:9:"attribute";s:35:"$.checkout.completedData.itemsCount";}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:8:"$.orders";i:1;a:0:{}}}i:2;a:1:{s:15:"@get_class_name";a:2:{s:6:"object";s:7:"$.order";s:9:"attribute";s:16:"$.orderClassName";}}i:3;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:32:"oro_entity.entity_alias_resolver";s:6:"method";s:8:"getAlias";s:17:"method_parameters";a:1:{i:0;s:16:"$.orderClassName";}s:9:"attribute";s:23:"$.orders[0].entityAlias";}}i:4;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:26:"oro_entity.doctrine_helper";s:6:"method";s:19:"getEntityIdentifier";s:17:"method_parameters";a:1:{i:0;s:7:"$.order";}s:9:"attribute";s:20:"$.orders[0].entityId";}}i:5;a:1:{s:13:"@assign_value";a:2:{i:0;s:31:"$.checkout.completedData.orders";i:1;s:8:"$.orders";}}}}}i:7;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.sourceEntity";i:1;s:23:"$.checkout.sourceEntity";}}i:8;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:14:"$.sourceEntity";}s:7:"actions";a:2:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:31:"oro_entity.entity_name_resolver";s:6:"method";s:7:"getName";s:17:"method_parameters";a:1:{i:0;s:29:"$.sourceEntity.sourceDocument";}s:9:"attribute";s:36:"$.checkout.completedData.startedFrom";}}i:1;a:1:{s:13:"@assign_value";a:3:{i:0;a:2:{i:0;s:33:"$.checkout.completedData.currency";i:1;s:16:"$.order.currency";}i:1;a:2:{i:0;s:33:"$.checkout.completedData.subtotal";i:1;s:28:"$.order.subtotalObject.value";}i:2;a:2:{i:0;s:30:"$.checkout.completedData.total";i:1;s:25:"$.order.totalObject.value";}}}}}}i:9;a:1:{s:14:"@remove_entity";a:2:{s:10:"conditions";a:1:{s:3:"@or";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:20:"$.auto_remove_source";i:1;b:1;}}i:1;a:1:{s:4:"@and";a:2:{i:0;a:1:{s:6:"@equal";a:2:{i:0;s:28:"$.allow_manual_source_remove";i:1;b:1;}}i:1;a:1:{s:6:"@equal";a:2:{i:0;s:15:"$.remove_source";i:1;b:1;}}}}}}s:10:"parameters";a:1:{i:0;s:23:"$.checkout.sourceEntity";}}}}s:10:"conditions";a:0:{}}s:44:"b2b_flow_checkout_create_guest_customer_user";a:3:{s:10:"parameters";a:3:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}s:13:"visitor_email";a:1:{s:7:"default";N;}s:15:"billing_address";a:1:{s:7:"default";N;}}s:7:"actions";a:1:{i:0;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:6:"@empty";s:23:"$.checkout.customerUser";}s:7:"actions";a:5:{i:0;a:1:{s:19:"@get_active_visitor";s:8:"$visitor";}i:1;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:23:"$.checkout.customerUser";s:7:"service";s:40:"oro_customer.manager.guest_customer_user";s:6:"method";s:17:"createFromAddress";s:17:"method_parameters";a:2:{i:0;s:15:"$.visitor_email";i:1;s:17:"$.billing_address";}}}i:2;a:1:{s:13:"@flush_entity";s:23:"$.checkout.customerUser";}i:3;a:1:{s:13:"@assign_value";a:2:{i:0;s:21:"$visitor.customerUser";i:1;s:23:"$.checkout.customerUser";}}i:4;a:1:{s:13:"@flush_entity";s:8:"$visitor";}}}}}s:10:"conditions";a:0:{}}s:44:"b2b_flow_checkout_update_guest_customer_user";a:3:{s:10:"parameters";a:3:{s:8:"checkout";a:1:{s:4:"type";s:41:"Oro\Bundle\CheckoutBundle\Entity\Checkout";}s:13:"visitor_email";a:1:{s:7:"default";N;}s:15:"billing_address";a:1:{s:7:"default";N;}}s:7:"actions";a:1:{i:0;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:4:{i:0;a:1:{s:10:"@not_empty";s:15:"$.visitor_email";}i:1;a:1:{s:10:"@not_empty";s:17:"$.billing_address";}i:2;a:1:{s:10:"@not_empty";s:23:"$.checkout.customerUser";}i:3;a:1:{s:6:"@empty";s:33:"$.checkout.customerUser.firstName";}}}s:7:"actions";a:2:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:9:"attribute";s:23:"$.checkout.customerUser";s:7:"service";s:40:"oro_customer.manager.guest_customer_user";s:6:"method";s:17:"updateFromAddress";s:17:"method_parameters";a:3:{i:0;s:23:"$.checkout.customerUser";i:1;s:15:"$.visitor_email";i:2;s:17:"$.billing_address";}}}i:1;a:1:{s:13:"@flush_entity";s:23:"$.checkout.customerUser";}}}}}s:10:"conditions";a:0:{}}s:24:"oro_sale_quote_duplicate";a:3:{s:10:"parameters";a:3:{s:5:"quote";a:1:{s:4:"type";s:34:"Oro\Bundle\SaleBundle\Entity\Quote";}s:10:"copy_notes";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:1;}s:5:"flush";a:2:{s:4:"type";s:4:"bool";s:7:"default";b:1;}}s:7:"actions";a:13:{i:0;a:1:{s:16:"@create_datetime";a:1:{s:9:"attribute";s:17:"$.currentDatetime";}}i:1;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:31:"oro_sale_quote_duplicate_fields";s:7:"results";a:1:{s:9:"quoteCopy";s:11:"$.quoteCopy";}s:18:"parameters_mapping";a:1:{s:5:"quote";s:7:"$.quote";}}}i:2;a:1:{s:13:"@assign_value";a:2:{i:0;s:21:"$.quoteCopy.createdAt";i:1;s:17:"$.currentDatetime";}}i:3;a:1:{s:13:"@assign_value";a:2:{i:0;s:21:"$.quoteCopy.updatedAt";i:1;s:17:"$.currentDatetime";}}i:4;a:1:{s:8:"@foreach";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:0;i:1;s:12:"$.copy_notes";}}s:10:"parameters";a:3:{s:5:"array";s:25:"$.quoteCopy.quoteProducts";s:5:"value";s:14:"$.quoteProduct";s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:22:"$.quoteProduct.comment";i:1;s:0:"";}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:30:"$.quoteProduct.commentCustomer";i:1;s:0:"";}}}}}}i:5;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:7:"$.flush";}}s:10:"parameters";a:1:{s:6:"entity";s:11:"$.quoteCopy";}}}i:6;a:1:{s:13:"@assign_value";a:2:{i:0;s:32:"$.quoteCopy.ac_last_contact_date";i:1;N;}}i:7;a:1:{s:13:"@assign_value";a:2:{i:0;s:35:"$.quoteCopy.ac_last_contact_date_in";i:1;N;}}i:8;a:1:{s:13:"@assign_value";a:2:{i:0;s:36:"$.quoteCopy.ac_last_contact_date_out";i:1;N;}}i:9;a:1:{s:13:"@assign_value";a:2:{i:0;s:28:"$.quoteCopy.ac_contact_count";i:1;i:0;}}i:10;a:1:{s:13:"@assign_value";a:2:{i:0;s:31:"$.quoteCopy.ac_contact_count_in";i:1;i:0;}}i:11;a:1:{s:13:"@assign_value";a:2:{i:0;s:32:"$.quoteCopy.ac_contact_count_out";i:1;i:0;}}i:12;a:1:{s:13:"@flush_entity";a:2:{s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;b:1;i:1;s:7:"$.flush";}}s:10:"parameters";a:1:{s:6:"entity";s:11:"$.quoteCopy";}}}}s:10:"conditions";a:0:{}}s:31:"oro_sale_quote_duplicate_fields";a:3:{s:10:"parameters";a:1:{s:5:"quote";a:1:{s:4:"type";s:34:"Oro\Bundle\SaleBundle\Entity\Quote";}}s:7:"actions";a:1:{i:0;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:7:"$.quote";s:9:"attribute";s:11:"$.quoteCopy";s:8:"settings";a:25:{i:0;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:1;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:3:"qid";}}}i:2;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"demands";}}}i:3;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"internal_status";}}}i:4;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"customer_status";}}}i:5;a:2:{i:0;a:2:{i:0;s:12:"replaceValue";i:1;b:0;}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:34:"Oro\Bundle\SaleBundle\Entity\Quote";i:1;s:7:"expired";}}}i:6;a:2:{i:0;a:2:{i:0;s:12:"replaceValue";i:1;b:0;}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:34:"Oro\Bundle\SaleBundle\Entity\Quote";i:1;s:13:"pricesChanged";}}}i:7;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"customerUser";}}}i:8;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:8:"customer";}}}i:9;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:10;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:5:"owner";}}}i:11;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"website";}}}i:12;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"request";}}}i:13;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:13:"assignedUsers";}}}i:14;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:21:"assignedCustomerUsers";}}}i:15;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:11:"opportunity";}}}i:16;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:41:"Oro\Bundle\SaleBundle\Entity\QuoteAddress";i:1;s:7:"country";}}}i:17;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:41:"Oro\Bundle\SaleBundle\Entity\QuoteAddress";i:1;s:6:"region";}}}i:18;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:41:"Oro\Bundle\SaleBundle\Entity\QuoteAddress";i:1;s:15:"customerAddress";}}}i:19;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:41:"Oro\Bundle\SaleBundle\Entity\QuoteAddress";i:1;s:19:"customerUserAddress";}}}i:20;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:39:"Oro\Bundle\ProductBundle\Entity\Product";}}}i:21;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:43:"Oro\Bundle\ProductBundle\Entity\ProductUnit";}}}i:22;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:47:"Oro\Bundle\PaymentTermBundle\Entity\PaymentTerm";}}}i:23;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:46:"Oro\Bundle\RFPBundle\Entity\RequestProductItem";}}}i:24;a:2:{i:0;a:1:{i:0;s:10:"collection";}i:1;a:2:{i:0;s:12:"propertyType";i:1;a:1:{i:0;s:38:"Doctrine\Common\Collections\Collection";}}}}}}}s:10:"conditions";a:0:{}}s:21:"oro_sale_expire_quote";a:3:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:34:"Oro\Bundle\SaleBundle\Entity\Quote";}}s:10:"conditions";a:1:{s:6:"@equal";a:2:{i:0;s:14:"$.data.expired";i:1;b:0;}}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.data.expired";i:1;b:1;}}i:1;a:1:{s:13:"@flush_entity";s:6:"$.data";}}}s:33:"oro_sale_notify_customer_by_email";a:4:{s:10:"parameters";a:1:{s:5:"email";a:1:{s:4:"type";s:39:"Oro\Bundle\EmailBundle\Form\Model\Email";}}s:12:"acl_resource";s:22:"oro_email_email_create";s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:28:"oro_sale.helper.notification";s:6:"method";s:4:"send";s:17:"method_parameters";a:1:{i:0;s:7:"$.email";}}}}s:10:"conditions";a:0:{}}s:28:"oro_sale_send_no_quote_alert";a:3:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:35:"Oro\Bundle\RFPBundle\Entity\Request";}}s:7:"actions";a:3:{i:0;a:1:{s:8:"@foreach";a:3:{s:5:"array";s:40:"$.data.customerUser.salesRepresentatives";s:5:"value";s:9:"$.saleRep";s:7:"actions";a:1:{i:0;a:1:{s:20:"@send_email_template";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:25:"$.data.customerUser.owner";}s:10:"parameters";a:4:{s:4:"from";s:31:"$.data.customerUser.owner.email";s:2:"to";s:15:"$.saleRep.email";s:8:"template";s:22:"request_no_quote_alert";s:6:"entity";s:6:"$.data";}}}}}}i:1;a:1:{s:12:"@call_method";a:3:{s:6:"object";s:40:"$.data.customerUser.salesRepresentatives";s:6:"method";s:7:"toArray";s:9:"attribute";s:23:"$.customerUserSalesReps";}}i:2;a:1:{s:8:"@foreach";a:3:{s:5:"array";s:36:"$.data.customer.salesRepresentatives";s:5:"value";s:9:"$.saleRep";s:7:"actions";a:1:{i:0;a:1:{s:20:"@send_email_template";a:2:{s:10:"conditions";a:1:{s:4:"@and";a:2:{i:0;a:1:{s:10:"@not_empty";s:25:"$.data.customerUser.owner";}i:1;a:1:{s:7:"@not_in";a:2:{i:0;s:9:"$.saleRep";i:1;s:23:"$.customerUserSalesReps";}}}}s:10:"parameters";a:4:{s:4:"from";s:31:"$.data.customerUser.owner.email";s:2:"to";s:15:"$.saleRep.email";s:8:"template";s:22:"request_no_quote_alert";s:6:"entity";s:6:"$.data";}}}}}}}s:10:"conditions";a:0:{}}s:50:"oro_sale_frontend_quote_accept_and_submit_to_order";a:3:{s:10:"parameters";a:1:{s:4:"data";a:1:{s:4:"type";s:40:"Oro\Bundle\SaleBundle\Entity\QuoteDemand";}}s:7:"actions";a:12:{i:0;a:1:{s:11:"@assign_url";a:3:{s:9:"attribute";s:10:"$.editLink";s:5:"route";s:30:"oro_sale_quote_frontend_choice";s:16:"route_parameters";a:1:{s:2:"id";s:9:"$.data.id";}}}i:1;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:6:"@empty";s:25:"$.data.quote.shippingCost";}s:10:"parameters";a:2:{i:0;s:31:"$.disallow_shipping_method_edit";i:1;b:0;}}}i:2;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:25:"$.data.quote.shippingCost";}s:10:"parameters";a:2:{i:0;s:31:"$.disallow_shipping_method_edit";i:1;b:1;}}}i:3;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:47:"oro_sale.quote_demand.subtotals_calculator_main";s:6:"method";s:18:"calculateSubtotals";s:17:"method_parameters";a:1:{i:0;s:6:"$.data";}}}i:4;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:28:"$.data.quote.shippingAddress";}s:7:"actions";a:2:{i:0;a:1:{s:14:"@create_entity";a:3:{s:9:"attribute";s:14:"$.orderAddress";s:5:"class";s:42:"Oro\Bundle\OrderBundle\Entity\OrderAddress";s:4:"data";a:18:{s:15:"customerAddress";s:28:"$.data.quote.customerAddress";s:19:"customerUserAddress";s:32:"$.data.quote.customerUserAddress";s:5:"label";s:34:"$.data.quote.shippingAddress.label";s:12:"organization";s:41:"$.data.quote.shippingAddress.organization";s:6:"street";s:35:"$.data.quote.shippingAddress.street";s:7:"street2";s:36:"$.data.quote.shippingAddress.street2";s:4:"city";s:33:"$.data.quote.shippingAddress.city";s:10:"postalCode";s:39:"$.data.quote.shippingAddress.postalCode";s:7:"country";s:36:"$.data.quote.shippingAddress.country";s:6:"region";s:35:"$.data.quote.shippingAddress.region";s:10:"regionText";s:39:"$.data.quote.shippingAddress.regionText";s:10:"namePrefix";s:39:"$.data.quote.shippingAddress.namePrefix";s:9:"firstName";s:38:"$.data.quote.shippingAddress.firstName";s:10:"middleName";s:39:"$.data.quote.shippingAddress.middleName";s:8:"lastName";s:37:"$.data.quote.shippingAddress.lastName";s:10:"nameSuffix";s:39:"$.data.quote.shippingAddress.nameSuffix";s:5:"phone";s:34:"$.data.quote.shippingAddress.phone";s:18:"fromExternalSource";b:1;}}}i:1;a:1:{s:13:"@assign_value";a:1:{s:10:"parameters";a:2:{i:0;s:32:"$.disallow_shipping_address_edit";i:1;b:1;}}}}}}i:5;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:6:"@empty";s:28:"$.data.quote.shippingAddress";}s:7:"actions";a:2:{i:0;a:1:{s:13:"@assign_value";a:2:{i:0;s:14:"$.orderAddress";i:1;N;}}i:1;a:1:{s:13:"@assign_value";a:1:{s:10:"parameters";a:2:{i:0;s:32:"$.disallow_shipping_address_edit";i:1;b:0;}}}}}}i:6;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:14:"$.orderAddress";}s:10:"parameters";a:2:{i:0;s:30:"$.checkoutData.shippingAddress";i:1;s:14:"$.orderAddress";}}}i:7;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:29:"$.data.quote.shippingEstimate";}s:10:"parameters";a:2:{i:0;s:27:"$.checkoutData.shippingCost";i:1;s:29:"$.data.quote.shippingEstimate";}}}i:8;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:27:"$.data.quote.shippingMethod";}s:10:"parameters";a:2:{i:0;s:29:"$.checkoutData.shippingMethod";i:1;s:27:"$.data.quote.shippingMethod";}}}i:9;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:10:"@not_empty";s:31:"$.data.quote.shippingMethodType";}s:10:"parameters";a:2:{i:0;s:33:"$.checkoutData.shippingMethodType";i:1;s:31:"$.data.quote.shippingMethodType";}}}i:10;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:6:"@empty";s:14:"$.checkoutData";}s:10:"parameters";a:2:{i:0;s:14:"$.checkoutData";i:1;a:0:{}}}}i:11;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:14:"start_checkout";s:18:"parameters_mapping";a:4:{s:14:"sourceCriteria";a:1:{s:11:"quoteDemand";s:6:"$.data";}s:5:"force";b:1;s:4:"data";s:14:"$.checkoutData";s:8:"settings";a:5:{s:26:"allow_manual_source_remove";b:0;s:18:"auto_remove_source";b:0;s:15:"edit_order_link";s:10:"$.editLink";s:30:"disallow_shipping_address_edit";s:32:"$.disallow_shipping_address_edit";s:29:"disallow_shipping_method_edit";s:31:"$.disallow_shipping_method_edit";}}s:7:"results";a:1:{s:11:"redirectUrl";s:13:"$.redirectUrl";}}}}s:10:"conditions";a:0:{}}s:37:"oro_shoppinglist_frontend_addlineitem";a:4:{s:10:"parameters";a:2:{s:9:"line_item";a:1:{s:4:"type";s:45:"Oro\Bundle\ShoppingListBundle\Entity\LineItem";}s:4:"form";a:1:{s:4:"type";s:36:"Symfony\Component\Form\FormInterface";}}s:12:"acl_resource";s:33:"oro_shopping_list_frontend_update";s:7:"actions";a:2:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:49:"oro_shopping_list.handler.shopping_list_line_item";s:6:"method";s:15:"processLineItem";s:17:"method_parameters";a:2:{i:0;s:11:"$.line_item";i:1;s:6:"$.form";}}}i:1;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:43:"oro_shopping_list.service.message_generator";s:6:"method";s:17:"getSuccessMessage";s:17:"method_parameters";a:3:{i:0;s:27:"$.line_item.shoppingList.id";i:1;i:1;i:2;s:37:"oro.shoppinglist.lineitem.flash.added";}s:9:"attribute";s:16:"$.successMessage";}}}s:10:"conditions";a:0:{}}s:28:"oro_shoppinglist_addlineitem";a:4:{s:10:"parameters";a:2:{s:4:"data";a:1:{s:4:"type";s:49:"Oro\Bundle\ShoppingListBundle\Entity\ShoppingList";}s:9:"line_item";a:1:{s:4:"type";s:45:"Oro\Bundle\ShoppingListBundle\Entity\LineItem";}}s:12:"acl_resource";a:2:{i:0;s:6:"CREATE";i:1;s:52:"entity:Oro\Bundle\ShoppingListBundle\Entity\LineItem";}s:7:"actions";a:1:{i:0;a:1:{s:20:"@call_service_method";a:3:{s:7:"service";s:39:"oro_shopping_list.shopping_list.manager";s:6:"method";s:11:"addLineItem";s:17:"method_parameters";a:4:{i:0;s:11:"$.line_item";i:1;s:6:"$.data";i:2;b:1;i:3;b:1;}}}}s:10:"conditions";a:0:{}}s:40:"oro_rfp_update_request_last_contact_data";a:3:{s:10:"parameters";a:3:{s:7:"request";a:1:{s:4:"type";s:35:"Oro\Bundle\RFPBundle\Entity\Request";}s:12:"current_date";a:1:{s:4:"type";s:8:"DateTime";}s:12:"current_user";a:1:{s:4:"type";s:41:"Oro\Bundle\UserBundle\Entity\AbstractUser";}}s:7:"actions";a:5:{i:0;a:1:{s:15:"@increase_value";a:2:{i:0;s:26:"$.request.ac_contact_count";i:1;i:1;}}i:1;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:3:"@gt";a:2:{i:0;s:14:"$.current_date";i:1;s:30:"$.request.ac_last_contact_date";}}s:10:"parameters";a:2:{i:0;s:30:"$.request.ac_last_contact_date";i:1;s:14:"$.current_date";}}}i:2;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:11:"@instanceof";a:2:{i:0;s:14:"$.current_user";i:1;s:33:"Oro\Bundle\UserBundle\Entity\User";}}s:7:"actions";a:2:{i:0;a:1:{s:15:"@increase_value";a:2:{i:0;s:30:"$.request.ac_contact_count_out";i:1;i:1;}}i:1;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:3:"@gt";a:2:{i:0;s:14:"$.current_date";i:1;s:34:"$.request.ac_last_contact_date_out";}}s:10:"parameters";a:2:{i:0;s:34:"$.request.ac_last_contact_date_out";i:1;s:14:"$.current_date";}}}}}}i:3;a:1:{s:5:"@tree";a:2:{s:10:"conditions";a:1:{s:11:"@instanceof";a:2:{i:0;s:14:"$.current_user";i:1;s:45:"Oro\Bundle\CustomerBundle\Entity\CustomerUser";}}s:7:"actions";a:2:{i:0;a:1:{s:15:"@increase_value";a:2:{i:0;s:29:"$.request.ac_contact_count_in";i:1;i:1;}}i:1;a:1:{s:13:"@assign_value";a:2:{s:10:"conditions";a:1:{s:3:"@gt";a:2:{i:0;s:14:"$.current_date";i:1;s:33:"$.request.ac_last_contact_date_in";}}s:10:"parameters";a:2:{i:0;s:33:"$.request.ac_last_contact_date_in";i:1;s:14:"$.current_date";}}}}}}i:4;a:1:{s:13:"@flush_entity";s:9:"$.request";}}s:10:"conditions";a:0:{}}s:23:"oro_promotion_duplicate";a:3:{s:10:"parameters";a:1:{s:9:"promotion";a:1:{s:4:"type";s:43:"Oro\Bundle\PromotionBundle\Entity\Promotion";}}s:7:"actions";a:4:{i:0;a:1:{s:17:"@run_action_group";a:3:{s:12:"action_group";s:30:"oro_promotion_duplicate_fields";s:7:"results";a:1:{s:13:"promotionCopy";s:15:"$.promotionCopy";}s:18:"parameters_mapping";a:1:{s:9:"promotion";s:11:"$.promotion";}}}i:1;a:1:{s:17:"@run_action_group";a:2:{s:12:"action_group";s:30:"oro_promotion_set_dates_to_now";s:18:"parameters_mapping";a:1:{s:13:"promotionCopy";s:15:"$.promotionCopy";}}}i:2;a:1:{s:17:"@run_action_group";a:2:{s:12:"action_group";s:33:"oro_promotion_set_duplicate_names";s:18:"parameters_mapping";a:1:{s:13:"promotionCopy";s:15:"$.promotionCopy";}}}i:3;a:1:{s:13:"@flush_entity";a:1:{s:10:"parameters";a:1:{s:6:"entity";s:15:"$.promotionCopy";}}}}s:10:"conditions";a:0:{}}s:30:"oro_promotion_duplicate_fields";a:3:{s:10:"parameters";a:1:{s:9:"promotion";a:1:{s:4:"type";s:43:"Oro\Bundle\PromotionBundle\Entity\Promotion";}}s:7:"actions";a:2:{i:0;a:1:{s:10:"@duplicate";a:3:{s:6:"target";s:11:"$.promotion";s:9:"attribute";s:15:"$.promotionCopy";s:8:"settings";a:13:{i:0;a:2:{i:0;a:1:{i:0;s:15:"emptyCollection";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:7:"coupons";}}}i:1;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"organization";}}}i:2;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:5:"owner";}}}i:3;a:2:{i:0;a:1:{i:0;s:7:"setNull";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:2:"id";}}}i:4;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:4:"rule";}}}i:5;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:10:"useCoupons";}}}i:6;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:6:"scopes";}}}i:7;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:21:"discountConfiguration";}}}i:8;a:2:{i:0;a:1:{i:0;s:11:"shallowCopy";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:15:"productsSegment";}}}i:9;a:2:{i:0;a:1:{i:0;s:10:"collection";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:9:"schedules";}}}i:10;a:2:{i:0;a:1:{i:0;s:4:"keep";}i:1;a:2:{i:0;s:8:"property";i:1;a:2:{i:0;s:53:"Oro\Bundle\LocaleBundle\Entity\LocalizedFallbackValue";i:1;s:12:"localization";}}}i:11;a:2:{i:0;a:1:{i:0;s:10:"collection";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:6:"labels";}}}i:12;a:2:{i:0;a:1:{i:0;s:10:"collection";}i:1;a:2:{i:0;s:12:"propertyName";i:1;a:1:{i:0;s:12:"descriptions";}}}}}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:28:"$.promotionCopy.rule.enabled";i:1;b:0;}}}s:10:"conditions";a:0:{}}s:33:"oro_promotion_set_duplicate_names";a:3:{s:10:"parameters";a:1:{s:13:"promotionCopy";a:1:{s:4:"type";s:43:"Oro\Bundle\PromotionBundle\Entity\Promotion";}}s:7:"actions";a:7:{i:0;a:1:{s:20:"@call_service_method";a:4:{s:7:"service";s:30:"oro_locale.formatter.date_time";s:6:"method";s:6:"format";s:9:"attribute";s:17:"$.currentDateTime";s:17:"method_parameters";a:1:{i:0;s:3:"now";}}}i:1;a:1:{s:10:"@substring";a:3:{s:9:"attribute";s:13:"$.oldRuleName";s:6:"string";s:25:"$.promotionCopy.rule.name";s:6:"length";i:200;}}i:2;a:1:{s:10:"@translate";a:3:{s:2:"id";s:35:"oro.promotion.ui.duplicate.new_name";s:9:"attribute";s:13:"$.newRuleName";s:6:"params";a:2:{s:8:"dateTime";s:17:"$.currentDateTime";s:12:"originalName";s:13:"$.oldRuleName";}}}i:3;a:1:{s:13:"@assign_value";a:2:{i:0;s:25:"$.promotionCopy.rule.name";i:1;s:13:"$.newRuleName";}}i:4;a:1:{s:10:"@substring";a:3:{s:9:"attribute";s:16:"$.oldSegmentName";s:6:"string";s:36:"$.promotionCopy.productsSegment.name";s:6:"length";i:200;}}i:5;a:1:{s:10:"@translate";a:3:{s:2:"id";s:35:"oro.promotion.ui.duplicate.new_name";s:9:"attribute";s:16:"$.newSegmentName";s:6:"params";a:2:{s:8:"dateTime";s:17:"$.currentDateTime";s:12:"originalName";s:16:"$.oldSegmentName";}}}i:6;a:1:{s:13:"@assign_value";a:2:{i:0;s:36:"$.promotionCopy.productsSegment.name";i:1;s:16:"$.newSegmentName";}}}s:10:"conditions";a:0:{}}s:30:"oro_promotion_set_dates_to_now";a:3:{s:10:"parameters";a:1:{s:13:"promotionCopy";a:1:{s:4:"type";s:43:"Oro\Bundle\PromotionBundle\Entity\Promotion";}}s:7:"actions";a:7:{i:0;a:1:{s:16:"@create_datetime";a:1:{s:9:"attribute";s:17:"$.currentDatetime";}}i:1;a:1:{s:13:"@assign_value";a:2:{i:0;s:25:"$.promotionCopy.createdAt";i:1;s:17:"$.currentDatetime";}}i:2;a:1:{s:13:"@assign_value";a:2:{i:0;s:25:"$.promotionCopy.updatedAt";i:1;s:17:"$.currentDatetime";}}i:3;a:1:{s:13:"@assign_value";a:2:{i:0;s:30:"$.promotionCopy.rule.createdAt";i:1;s:17:"$.currentDatetime";}}i:4;a:1:{s:13:"@assign_value";a:2:{i:0;s:30:"$.promotionCopy.rule.updatedAt";i:1;s:17:"$.currentDatetime";}}i:5;a:1:{s:13:"@assign_value";a:2:{i:0;s:41:"$.promotionCopy.productsSegment.createdAt";i:1;s:17:"$.currentDatetime";}}i:6;a:1:{s:13:"@assign_value";a:2:{i:0;s:41:"$.promotionCopy.productsSegment.updatedAt";i:1;s:17:"$.currentDatetime";}}}s:10:"conditions";a:0:{}}}