<% obj.attributesTemplate = function(attributes) {
    _.each(attributes, function(attribute, name) { %>
        <%= name %><% if (!_.isNull(attribute)) { %>="<%= attribute %>"<% } %>
    <% });
} %>

<% if (links) { %><div class="btn-group"><% } %>

<<%= tagName %>
    <% if (tagName == "a") { %> href="<%= link %>"<% } %>
    class="action
        <%= className ? " " + className : "" %>
        <%= !enabled ? " disabled" : "" %>
        <%= launcherMode != '' ? 'mode-' +  launcherMode : "" %>
        <% if (links) { %> dropdown-toggle<% } %>
    "
    <% attributesTemplate(attributes) %>
    title="<%- title %>"
    <% if (links) { %> data-toggle="dropdown"<% } %>>

    <% if (launcherMode == 'icon-text') { %>
        <i class="fa-<%- icon %> hide-text"></i>
        <%- label %>
    <% } else if (launcherMode == 'icon-only') { %>
        <i class="fa-<%- icon %> hide-text"></i>
    <% } else if (launcherMode == 'text-only') { %>
        <% if (iconClassName) { %><i class="<%- iconClassName %>"></i><% } %>
        <%- label %>
    <% } %>

    <% if (links) { %><i class="caret"></i><% } %>
</<%= tagName %>>

<% if (links) { %>
    <ul class="dropdown-menu">
    <% _.each(links, function(item, index) { %>
        <li><a href="<%= link %>" data-index="<%- index %>" title="<%- item.label %>"
            <% if (item.attributes) { attributesTemplate(item.attributes); } %>
            data-key="<%= item.key %>">
            <% if (launcherMode == 'icon-text') { %>
                <i class="fa-<%- icon %> hide-text"></i>
                <%- item.label %>
            <% } else if (launcherMode == 'icon-only') { %>
                <i class="fa-<%- icon %> hide-text"></i>
            <% } else if (launcherMode == 'text-only') { %>
                <% if (iconClassName) { %><i class="<%- iconClassName %>"></i><% } %>
                <%- item.label %>
            <% } %>
        </a></li>
    <% }) %>
    </ul>
</div>
<% } %>
