'change visibility to all to parent category':
    categoryReference: category_1
    visibility:
        type: all
        visibility: parent_category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility to all to config':
    categoryReference: category_1
    visibility:
        type: all
        visibility: config
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility to all to hidden':
    categoryReference: category_1
    visibility:
        type: all
        visibility: hidden
    expectedData:
        hiddenCategories:
            - category_1
            - category_1_2
            - category_1_5
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer_group.group2:
                - category_1_2
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_2
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5
                - category_1_5_6
            customer.level_1.2.1.1:
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.4:
                - category_1_2
                - category_1_5
        hiddenProducts:
            - product-1
            - product-2
            - product-5
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-1
                - product-2
                - product-5
                - product-7
                - product-8
            customer_group.group3:
                - product-2
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-5
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-5
                - product-7
                - product-8
            customer.level_1.2.1.1:
                - product-1
                - product-2
                - product-5
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-5
                - product-4
            customer.level_1.4:
                - product-2
                - product-3
                - product-5
'change visibility customer group to hidden':
    categoryReference: category_1
    visibility:
        type: customerGroup
        customerGroup: customer_group.group3
        visibility: hidden
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-1
                - product-3
                - product-6
                - product-5
                - product-4
                - product-7
                - product-8
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-1
                - product-3
                - product-6
                - product-5
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
                - product-7
                - product-8
            customer.level_1.4:
                - product-3
                - product-4
'change visibility customer group to parent category':
    categoryReference: category_1
    visibility:
        type: customerGroup
        customerGroup: customer_group.group2
        visibility: parent_category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer group to all':
    categoryReference: category_1
    visibility:
        type: customerGroup
        customerGroup: customer_group.group3
        visibility: category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer group to visible':
    categoryReference: category_1
    visibility:
        type: customerGroup
        customerGroup: customer_group.group3
        visibility: visible
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer to parent category':
    categoryReference: category_1
    visibility:
        type: customer
        customer: customer.level_1.2.1.1
        visibility: parent_category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer to hidden':
    categoryReference: category_1
    visibility:
        type: customer
        customer: customer.level_1.2.1.1
        visibility: hidden
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.2.1.1:
                - category_1
                - category_1_5
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.2.1.1:
                - product-1
                - product-5
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer to visible':
    categoryReference: category_1_2_3
    visibility:
        type: customer
        customer: customer.level_1.1
        visibility: visible
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer to all':
    categoryReference: category_1_5_6
    visibility:
        type: customer
        customer: customer.level_1.2.1.1
        visibility: category
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.2.1.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.2.1.1:
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
'change visibility customer to group':
    categoryReference: category_1_5_6
    visibility:
        type: customer
        customer: customer.level_1.3.1
        visibility: customer_group
    expectedData:
        hiddenCategories:
            - category_1_5_6
            - category_1_5_6_7
        hiddenCategoriesByCustomerGroups:
            customer_group.group1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
            customer_group.group3:
                - category_1_2_3
                - category_1_2_3_4
            Non-Authenticated Visitors:
                - category_1_2_3
                - category_1_2_3_4
        hiddenCategoriesByCustomers:
            customer.level_1:
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.1:
                - category_1
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
                - category_1_5_6
                - category_1_5_6_7
            customer.level_1.2.1:
                - category_1_5_6_7
            customer.level_1.3.1:
                - category_1_5_6_7
            customer.level_1.3.1.1:
                - category_1_2
                - category_1_2_3
                - category_1_2_3_4
        hiddenProducts:
            - product-4
            - product-7
            - product-8
        hiddenProductsByCustomerGroups:
            customer_group.group2:
                - product-7
                - product-8
            customer_group.group3:
                - product-3
                - product-6
        hiddenProductsByCustomers:
            customer.level_1.1:
                - product-1
                - product-2
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.2:
                - product-7
                - product-8
            customer.level_1.2.1:
                - product-7
                - product-8
            customer.level_1.3.1:
                - product-3
                - product-6
                - product-4
                - product-7
                - product-8
            customer.level_1.3.1.1:
                - product-2
                - product-3
                - product-6
            customer.level_1.4:
                - product-3
