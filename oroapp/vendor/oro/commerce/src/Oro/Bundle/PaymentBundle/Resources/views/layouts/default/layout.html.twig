{% block payment_additional_data_widget %}
    {{ block(block_name) }}
{% endblock %}

{% block _payment_methods_widget %}
    {% set currentPaymentMethod = currentPaymentMethod|default(views|keys|first) %}

    {% set attr = layout_attr_defaults(attr, {'data-payment-method-forms': ''}) %}

    <div class="{{ class_prefix }}-form" data-content="payment_method_form" data-page-component-module="oropayment/js/app/components/payment-method-selector-component">
        <div class="grid__row grid__row--offset-none">
            <div {{ block('block_attributes') }}>
                {% if views|length > 0 %}
                    <span class="label label--full text-uppercase">{{ 'oro.payment.methods.select_method'|trans }}<sup class="checkout-form__asterix">*</sup></span>
                    {% for name, view in views if views is defined and view is iterable %}
                        {% set selected = currentPaymentMethod == name %}
                        <div class="{{ class_prefix }}-form__radio" data-item-container>
                            <label class="custom-radio custom-radio--large {% if selected %}checked{% endif %}" data-radio tabindex="0">
                                <input class="custom-radio__control" type="radio" name="paymentMethod" data-choice="{{ name }}" value="{{ name }}" {% if selected%}checked="checked"{% endif %} />
                                <span class="custom-radio__text">{{ view.label }}</span>
                            </label>
                            <div class="{{ class_prefix }}-form__payment-container" data-form-container {% if not selected %} style="display: none;" {% endif %}>
                                {{ block(view.block) }}
                            </div>
                        </div>
                    {% endfor %}
                {% else %}
                    <div class="notification notification--alert">
                        <span class="notification__text">{{ 'oro.payment.methods.no_method'|trans }}</span>
                    </div>
                {% endif %}
            </div>
        </div>
    </div>
{% endblock %}
