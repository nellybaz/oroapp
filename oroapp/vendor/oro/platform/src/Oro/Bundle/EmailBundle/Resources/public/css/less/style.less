@import "oroui/css/less/mixins";
@import "./header";
@import "./email-notification-menu";
@import "./short-emails-list";
@import "./sidebar-widget";

.auto-response-rules {
  .select-all-header-cell__dropdown-menu .all-visible {
    display: none;
  }
}

.auto-response-rule-header {
  height: 28px;
  line-height: 28px;

  h5 {
    display: inline-block;
    margin: 0;
  }
}

.ui-dialog [data-ftid=oro_email_autoresponserule] {
  .control-group {
    max-width: none;
  }

  input[type=text] {
    width: 807px;
  }

  .form-horizontal .control-group .controls {
    .new-entity {
      .control-group:nth-of-type(2) {
        .controls > div {
          display: inline-block;
          vertical-align: top;
        }
      }

      .emailtemplate-translatation {
        width: 360px;
      }

      .mce-tinymce {
        width: 345px;
      }

      .emailtemplate-variables {
        width: 435px;
        margin-left: 26px;
        margin-top: -52px;
        position: absolute;
      }
    }

    .dropdown {
      input[type=text] {
        width: calc(~"100% - 270px");
        float: right;
        margin-right: 10px;
      }

      .dropdown-menu {
        top: initial;
      }
    }

    .condition-builder {
      width: 821px;
    }

    .conditions-group {
      min-height: 100px;

      .select2-container {
        width: auto;
        min-width: 74px;
        display: inline-block;
        margin: 0;
        line-height: 30px;
      }
    }

    select {
      max-width: none;
      width: 809px;
    }

    .select2-container {
      max-width: none;
      width: 819px;
    }

    .condition {
      margin-left: 0;
    }

    .create-select-entity-choice-container {
      margin-left: -142px;

      [data-ftid=oro_email_autoresponserule_template_new_entity] > .control-group:nth-child(2) {
        .control-label.wrap {
          width: 130px;
          label {
            display: block;
          }
        }
      }

      [data-ftid=oro_email_autoresponserule_template_new_entity] > .control-group:nth-child(3) > .control-label.wrap {
        width: 130px;
      }

      [data-ftid=oro_email_autoresponserule_template_new_entity] > .control-group:last-of-type {
        text-align: right;
        margin-right: 460px;

        .control-label.wrap {
          float: none;
          display: inline-block;
          margin-right: 0;
        }

        input {
          margin-top: 0;
        }

        .controls {
          margin: 0;
          display: inline-block;
        }
      }
    }

    .emailtemplate-translatation {
      .control-label {
        width: 70px;
      }

      .controls {
        margin-left: 85px;
      }

      .tab-content {
        margin-left: -85px;
        border-top: 1px solid #ddd;
        margin-top: -1px;
      }
    }
  }
}

.emailtemplate-translatation {
  .tab-content {
    padding: 20px 16px 10px 0;
    overflow-x: hidden;
    .mce-tinymce {
      width: 100%;
      max-width: 542px;
    }
    .tab-pane {
      input,
      textarea {
        width: 100%;
        box-sizing: border-box;
      }
      input {
        height: 32px;
      }
    }
  }
}

.choice-template-type .oro-clearfix {
  display: inline-block;
  margin-right: 10px;
  width: auto;
  input[type="radio"] {
    margin: -2px 6px 0 0;
  }
}

.emailtemplate-variables {
  .tab-content {
    padding-top: 12px;
    padding-bottom: 10px;
  }
  .breadcrumb {
    float: none;
    padding-left: 15px;
    padding-bottom: 10px;
    & > li,
    & > li.active {
      text-transform: none;
      font-size: 13px;
    }
  }
  .variables {
    .groups {
      padding-left: 15px;
    }
    .group-label {
      font-weight: bold;
    }
    .nav {
      padding-left: 15px;
      padding-right: 15px;
      & > li > a {
        display: inline-block;
        padding: 3px 0;
      }
    }
  }
  ul.caption {
    float: none;
    list-style: none;
    display: inline;
    padding: 0;
    margin: 0;
    & > li {
      display: inline-block;
    }
  }
}

.modal-body {
  .loading-content {
    background: #fff url('../../img/loader.gif') no-repeat center left;
    padding-left: 30px;
  }
}

.ui-dialog {
  .email-form {
    padding-bottom: 14px;
    .select2-container-disabled .select2-arrow {
      display: none;
    }
    .mce-tinymce {
      width: calc(~"97% + 12px");
    }
    .form-horizontal {
      .control-group {
        max-width: none;
        .controls {
          .validation-failed {
            margin-left: 14px;
          }
        }
      }
    }
    input[type=radio] {
      width: auto;
    }
    input,
    textarea,
    .uneditable-input {
      width: 97%;
    }
  }
  pre.email-body,
  iframe.email-body,
  .email-form textarea {
    height: 200px;
  }
}

.select2-container.select2-container-multi.taggable-email {
  width: calc(~"97% + 12px");
  max-width: none;
  position: relative;
  ul.select2-choices {
    padding-right: 60px;
  }
}

.cc-bcc-holder {
  position: absolute;
  top: 5px;
  right: 0;
  .showCc, .showBcc {
    cursor: pointer;
    padding: 0 5px;
    &:hover {
      text-decoration: underline;
    }
  }
}

.activity-list-widget {
  .email-info, .email-load-more {
    margin: 0 20px 0 0;
  }
  .accordion-body > .message {
    .email-content .comment {
      padding-right: 0;
    }
  }
}

.icon-email-thread {
  background: url('../../img/icon-email-thread.png');
  width: 21px;
  height: 18px;
  display: inline-block;
}

span.icon.grid {
  color: #999;
}

span.icon.grid .fa-paperclip {
  font-size: 21px;
}

.thread-view {
  padding-left: @horizontalPadding;
  .email-load-more {
    border-bottom: 1px solid #e5e5e5;
    .load-more-items(#e5e5e5, #f5f5f5, #888);
    &.process {
      .load-more-label {
        .process('../../../oroui/img/loader-16.gif');
        &:after {
          background-color: #f5f5f5;
          background-position: center center;
          padding-left: 10px;
        }
      }
    }
  }
}

.email-thread-action-panel {
  .email-view-toggle-all {
    color: #888;
    text-decoration: underline;
    &:hover {
      color: #777;
    }
  }
}

.email-info {
  border-bottom: 1px solid #e5e5e5;
  &:last-child {
    border-bottom: none;
  }
  .email-recipient {
    white-space: nowrap;
  }
  .email-participants {
    margin-right: 150px;
  }
  .email-sent-date {
    text-align: right;
    height: 28px;
    float: right;
    display: inline-block;
    padding: 5px 18px;
  }
  .comment-count {
    margin-right: 5px;
  }
  .email-has-attachment {
    font-size: 1.3em;
    margin-right: .5em;
  }
  .email-content {
    padding: 0 15px 10px;
    margin: 0;
  }
  .email-view-toggle {
    cursor: pointer;
    display: inline-block;
    padding: 10px 15px;
    width: 100%;
    box-sizing: border-box;
  }
  &:only-child {
    .email-view-toggle {
      padding: 0 0 10px;
    }
    .email-content {
      padding: 0 0 10px;
    }
  }
  .email-recipients {
    color: #888;
  }
  .email-short {
    background-color: #f5f5f5;
    .email-recipients {
      font-style: italic;
    }
    .email-body {
      color: #888;
      margin: 2px 150px 0 0;
      white-space: nowrap;
      text-overflow: ellipsis;
      overflow: hidden;
      &:after {
        content: '\2026';
      }
    }
    .email-sent-date {
      padding: 11px 0;
      color: #888;
      font-style: normal;
    }
  }
  .email-full {
    display: none;
    .email-author {
      font-weight: bold;
    }
    .email-view-toggle {
      padding-bottom: 9px;
    }
    .email-body {
      & > iframe {
        border: 0;
        width: 100%;
        height: 0;
        overflow: auto;
      }
    }
  }
  &.in {
    .email-short {
      display: none;
    }
    .email-full {
      display: block;
    }
  }
  &:last-child {
    .email-view-toggle {
      cursor: auto;
    }
  }
  .btn.dropdown-toggle {
    .caret {
      margin-left: 0;
    }
    & + .dropdown-menu {
      min-width: 100%;
    }
  }
  .email-attachments-list-cont {
    h6 {
      margin:0 10px 0 0;
      font-size: 13px;
    }
    .email-attachments-list {
      padding-top: 10px;
      clear: both;
      list-style: none;
      margin: 0;
      max-width: 700px;
      .email-attachments-list-item {
        display: inline-block;
        white-space: nowrap;
        margin: 0 13px 10px 0;
        @media only screen and (max-width: 500px) {
          margin-right: 10px;
          .email-attachments-file {
            display: none; //hide thumbnails on mobile
          }
        }
        .thumbnail {
          width: 110px;
          height: 80px;
          padding:0;
          text-align: center;
          background: #eeeeee;
          border-radius: 6px;
          border:none;
          .fa {
            padding-top: 20px;
            color: #fff;
          }
        }
        .link-to-record {
          padding-top: 10px;
          .dropdown-toggle {
            display: inline-block;
            width: 110px;
            overflow: hidden;
            @media only screen and (max-width: 500px) {
              font-size: 13px;
            }
            &:focus {
              font-weight: normal;
            }
          }
          .dropdown-menu {
            padding: 5px 15px;
            a {
              display: block;
              text-align: left;
              span {
                margin-left: 7px;
                color: #777;
              }
              &:hover {
                span {
                  color: #777;
                }
              }
            }
            .view-image {
              display: none;
            }
            @media only screen and (max-width: 500px) {
              .view-image {
                display: block;
              }
            }
          }
          .fa {
            color: #444;
            font-size: 15px;
            margin-right: 1px;
            margin-left: 0;
          }
        }
      }
    }
    .email-attachments-list.name-only {
      .email-attachments-list-item {
        margin-bottom: 0;
        .email-attachments-file {
          display: none;
        }
        .link-to-record {
          padding-top: 0;
          .dropdown-menu {
            .view-image {
              display: block;
            }
          }
        }
      }
    }
  }
  .email-prev-body {
    margin-left: 10px;
    padding-left: 10px;
    border-left: 1px solid #000000;
  }
}

.responsive-section {
  .email-content {
    .responsive-cell {
      padding-left: 0;
      padding-right: 15px;
      margin-bottom: 0 !important; /* overrides activity list widget styles */
    }
    .responsive-cell:only-child,
    .responsive-cell:last-child {
      padding-right: 0;
    }
  }
  &.responsive-small {
    .responsive-cell {
      padding-right: 0;
    }
  }
  &.responsive-small {
    .email-content {
      .responsive-cell:not(:last-child) {
        margin-bottom: 20px !important; /* overrides activity list widget styles */
      }
    }
  }
}
.accordion-body .email-info {
  &:last-child .email-content {
    padding-bottom: 0;
  }
}

.email-detailed-info-table {
  display: inline-block;
  .dropdown-toggle {
    cursor: pointer;
    font-size: 14px;
    color: #b3b3b3;
    padding: 0px 3px;
    &:hover {
      color: #888;
    }
  }
  .dropdown-menu {
    padding: 8px 10px 2px 0px;
    margin-left: -16px;
    margin-top: 3px;
    &:before {
      content: '';
      display: inline-block;
      border-left: 7px solid transparent;
      border-right: 7px solid transparent;
      border-bottom: 7px solid #ccc;
      border-bottom-color: rgba(0, 0, 0, 0.2);
      position: absolute;
      top: -7px;
      left: 19px;
    }
    &:after {
      content: '';
      display: inline-block;
      border-left: 6px solid transparent;
      border-right: 6px solid transparent;
      border-bottom: 6px solid #fff;
      position: absolute;
      top: -6px;
      left: 20px;
    }
    &.fixed-width .controls {
      white-space: normal;
    }
    ul {
      margin: 0;
      list-style: none;
    }
    .form-horizontal .control-group {
      margin-bottom: 0;
      label.control-label {
        width: 70px;
      }
      .controls {
        margin-left: 80px;
      }
    }
  }
  .control-group {
    label.control-label,
    .controls {
      color: #777;
      margin-bottom: 5px;
      padding-top: .3px;
      line-height: 1.4em;
      white-space: nowrap;
      b {
        color: #444;
      }
    }
    label.control-label {
      width: 70px;
    }
    .controls {
      margin-left: 80px;
    }
  }
}

.forged-required label em {
  color: #c30b25;
  font-size: 15px;
  line-height: 1px;
}

.attachment-item {
  display: inline-block;
  float: left;
  position: relative;
  margin-right: 8px;
  span.filename-label {
    color: #006acc;
  }
  i.fa-close {
    cursor: pointer;
    opacity: 0.2;
  }
  input {
    opacity: 0;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    width: 0 !important;
    height: 0 !important;
    border: none;
    z-index: -1;
  }
}

a.attachment .icon .fa-link {
  color: #999;
}

.control-group .email-body-action {
  margin-right: 15px;
}

.dropdown.link-to-record {
  display: inline-block;
  padding-right: 4px;
  .dropdown-menu {
    margin-top: 5px;
    line-height: 24px;
    text-align: center;
    a {
      padding-right: 7px;
    }
  }
  .dropdown-menu.one {
    min-width: 100px;
  }
  .dropdown-menu:after {
    border-bottom: 6px solid #fff;
    border-left: 6px solid transparent;
    border-right: 6px solid transparent;
    content: "";
    display: inline-block;
    left: 10px;
    position: absolute;
    top: -6px;
  }
  .dropdown-menu:before {
    content: '';
    display: inline-block;
    border-left: 7px solid transparent;
    border-right: 7px solid transparent;
    border-bottom: 7px solid #ccc;
    border-bottom-color: rgba(0, 0, 0, 0.2);
    position: absolute;
    top: -7px;
    left: 9px;
  }
}

.attachment-list-popup {
  width: 350px;
}

.attachment-list {
  height: 200px;
  overflow: auto;
}

.email-body-actions .attach-file {
  font-weight: normal !important;
}

.attachment-list-popup .attachment-list-content {
  padding: 10px 10px 0 10px;
}

.attachment-list-popup .attachment-actions {
  overflow: hidden;
  margin-top: 6px;
  margin-bottom: -5px;
  padding: 10px;
  background-color: rgb(250, 250, 250);
  border-top: 1px solid rgb(229, 229, 229);
}

.attachment-list-popup .attachment-actions .pull-left {
  margin-top: 4px;
}

.attachment-list-popup input.filter {
  width: 96%;
}

.attachment-list-popup .group-block {
  margin-bottom: 10px;
}

.attachment-list-popup .filter-block {
  margin-bottom: 15px;
}

.attachment-list-popup .attachment-list-row {
  line-height: 26px;
  font-size: 13px;
  .popover-content {
    padding: 10px;
    min-width: 110px;
  }
}

.attachment-list-popup .attachment-list-row input.checkbox {
  display: inline-block;
  width: 14px;
  margin: -1px 0 0 0;
}

.attachment-list-popup .attachment-list-row span {
  padding-top: 1px;
}

.email-row-is-readed {
  background-color: #f5f5f5;
}

.email-mail-count-circle {
  display: inline;
  background-color: orange;
  color: white;
  border-radius: 6px;
  padding: 1px 4px;
  vertical-align: top;
  font-size: 10px
}
.oro-email-user-emails .email-count {
  margin-left: 4px;
  color: orange;
}
.has-new-emails .fa-user {
  color: orange;
}

a.sync-btn span.dots {
  width: 10px;
  display: inline-block;
  text-align: left;
}

.ui-multiselect-menu.select-filter-widget.multiselect-origin-folder {
  .ui-multiselect-checkboxes {
    li.ui-multiselect-optgroup-label {
      border-bottom: none;
      text-align: left;
      padding-left: 5px;
      a {
        color: rgb(68, 68, 68);
        font-size: 13px;
      }
    }
  }
}

.folder-tree {
  .folder-tree-widget {
    margin-top: 5px;
  }

  .folder-label {
    margin-left: 5px;
  }

  .folder-sub-folders {
    margin-left: 20px;
  }

  .folder-tree-widget {
    .folder-list {
      margin-left: 20px;
    }

    input[type="checkbox"] {
      margin: 0;
    }
  }
}
.check-connection-messages .alert {
  margin-top: 10px;
}

#oro_email_mailbox_origin_check_connection,
.check-connection-messages {
  width: 294px;
}

.container-fluid {
  .email-activity-widget {
    margin-bottom: 20px;
  }
}
.grid-body-cell-subject {
  .email-body {
    display: inline;
    &:before {
      content: '-';
      display: inline;
      margin-right: 4px;
    }
  }
}
